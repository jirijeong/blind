<div class="top-bar">
  <div class="content">
    <h2 id="logo">Blind </h2>
    <div class="haeder_item">
      <p th:if="${session.member!= null}" th:text="|${session.member.mid}님, 환영합니다.|"></p>
      <p th:unless="${session.member!= null}">글을 작성하시려면 로그인을 해주세요</p>

      <div class="header_btn">
        <button id="writeBtn">글쓰기</button>
        <button id="loginBtn">로그인</button>
      </div>
    </div>
  </div>
</div>

<script th:inline="javascript">
    let logo = document.getElementById("logo")
    let write = document.getElementById("writeBtn")
    let login = document.getElementById("loginBtn")


    if ([[${session.member}]] != null) {
        login.classList.add("hidden")
    }

    logo.addEventListener("click", () => {
        location.href = "/";
    })
    write.addEventListener("click", () => {
        if ([[${session.member}]] == null) {
            alert("글을 작성하시려면 로그인을 먼저 해주세요")
            location.href = "login"
        } else {
            location.href = "writePost"
        }
    })
    login.addEventListener("click", () => {

        location.href = "login"
    })


</script>
